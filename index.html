<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Expert Journey</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
        h1 { text-align: center; color: #333; }
        .section { margin: 20px 0; padding: 15px; background: white; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .progress-bar { width: 100%; height: 20px; background: #ddd; border-radius: 10px; }
        .progress { height: 100%; background: #4caf50; border-radius: 10px; }
        ul { list-style: none; padding: 0; }
        li { padding: 10px; border-bottom: 1px solid #eee; }
        input[type="checkbox"] { margin-right: 10px; }
        a { color: #007bff; text-decoration: none; }
        button { padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .badge { display: inline-block; padding: 5px 10px; margin: 5px; border-radius: 15px; }
        .locked { background: #ccc; color: #666; }
        .unlocked { background: #4caf50; color: white; }
        textarea { width: 100%; height: 60px; margin: 10px 0; }
        .post { font-size: 0.9em; color: #555; }
    </style>
</head>
<body>
    <h1>EV Expert Journey</h1>

    <!-- Dashboard -->
    <div class="section">
        <h2>Dashboard</h2>
        <p>Progress: <span id="progressPercent">0%</span> (0/149 hours)</p>
        <div class="progress-bar"><div class="progress" style="width: 0%;"></div></div>
        <p>Welcome! You're on your way to becoming an EV maintenance expert.</p>
    </div>

    <!-- Skills -->
    <div class="section">
        <h2>Skills & Badges</h2>
        <ul id="skillsList">
            <li>EV Fundamentals <span class="badge locked" id="badge-ev-fundamentals">EV Basics Master</span></li>
            <li>Electrical Systems <span class="badge locked" id="badge-electrical">Circuit Specialist</span></li>
            <li>Battery Management <span class="badge locked" id="badge-battery">Battery Expert</span></li>
            <li>Motor Mechanics <span class="badge locked" id="badge-motor">Motor Guru</span></li>
            <li>EV Maintenance & Diagnostics <span class="badge locked" id="badge-maintenance">Repair Pro</span></li>
            <li>Charging Systems <span class="badge locked" id="badge-charging">Charger Technician</span></li>
            <li>Safety Protocols <span class="badge locked" id="badge-safety">Safety Champion</span></li>
            <li>Renewable Energy Context <span class="badge locked" id="badge-renewable">Eco Innovator</span></li>
        </ul>
    </div>

    <!-- Checklist -->
    <div class="section">
        <h2>Checklist</h2>
        <h3>Courses</h3>
        <ul id="checklist">
            <li><input type="checkbox" onchange="updateProgress()" data-weight="12.5" data-skill="ev-fundamentals"> <a href="https://alison.com/course/diploma-in-electric-vehicle-technology" target="_blank">Diploma in Electric Vehicle Technology (Alison)</a> (12.5 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="18" data-skill="ev-fundamentals"> <a href="https://www.coursera.org/learn/electric-vehicles-mobility" target="_blank">Electric Vehicles and Mobility (Coursera)</a> (18 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="20" data-skill="electrical"> <a href="https://www.coursera.org/learn/electronics" target="_blank">Introduction to Electronics (Coursera)</a> (20 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="21" data-skill="electrical"> <a href="https://www.edx.org/course/electricity-and-magnetism-part-1" target="_blank">Electricity & Magnetism, Part 1 (edX)</a> (21 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="2" data-skill="battery"> <a href="https://alison.com/course/battery-technologies-for-electric-vehicles" target="_blank">Battery Technologies for Electric Vehicles (Alison)</a> (2 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="16" data-skill="maintenance"> <a href="https://www.edx.org/course/electric-cars-technology" target="_blank">Electric Cars: Technology (edX)</a> (16 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="24" data-skill="charging"> <a href="https://onlinecourses.nptel.ac.in/noc20_ee62/preview" target="_blank">Electric Vehicles - Part 1 (NPTEL)</a> (24 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="10" data-skill="renewable"> <a href="https://oli.cmu.edu/courses/principles-of-alternative-renewable-energies/" target="_blank">Principles of Alternative/Renewable Energies (OLI)</a> (10 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="8" data-skill="motor"> <a href="https://oli.cmu.edu/courses/motors-and-controls-for-electric-vehicles/" target="_blank">Motors and Controls for Electric Vehicles (OLI)</a> (8 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="12" data-skill="safety"> <a href="https://oli.cmu.edu/courses/automotive-systems/" target="_blank">Automotive Systems (OLI)</a> (12 hrs)</li>
            <h3>YouTube Videos</h3>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="0.5" data-skill="ev-fundamentals"> <a href="https://www.youtube.com/watch?v=3SAxXUIreSs" target="_blank">How Electric Cars Work (Engineering Explained)</a> (0.5 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="0.5" data-skill="battery"> <a href="https://www.youtube.com/watch?v=9G5-V8F2c-0" target="_blank">EV Battery Basics (Engineering Explained)</a> (0.5 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="1" data-skill="maintenance"> <a href="https://www.youtube.com/watch?v=PWkEj42041w" target="_blank">Electric Vehicle Maintenance (WeberAuto)</a> (1 hr)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="1" data-skill="maintenance"> <a href="https://www.youtube.com/watch?v=8KQrWnNmkNY" target="_blank">How to Diagnose EV Problems (WeberAuto)</a> (1 hr)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="0.5" data-skill="motor"> <a href="https://www.youtube.com/watch?v=L-DiprTnc0Q" target="_blank">Electric Motor Fundamentals (The Engineering Mindset)</a> (0.5 hrs)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="1" data-skill="charging"> <a href="https://www.youtube.com/watch?v=8J0zANkBLFo" target="_blank">EV Charging Systems Explained (Munro Live)</a> (1 hr)</li>
            <li><input type="checkbox" onchange="updateProgress()" data-weight="1" data-skill="safety"> <a href="https://www.youtube.com/watch?v=toT6tEaTkhM" target="_blank">High Voltage Safety for EVs (WeberAuto)</a> (1 hr)</li>
        </ul>
    </div>

    <!-- Roadmap -->
    <div class="section">
        <h2>Roadmap</h2>
        <ul>
            <li>Phase 1: Foundation (Feb-May 2025)</li>
            <li>Phase 2: Intermediate (May-Aug 2025)</li>
            <li>Phase 3: Advanced (Aug 2025-Feb 2026)</li>
        </ul>
    </div>

    <!-- Tasks -->
    <div class="section">
        <h2>Tasks</h2>
        <input type="text" id="taskInput" placeholder="Add a task">
        <input type="date" id="taskDate">
        <button onclick="addTask()">Add Task</button>
        <ul id="taskList"></ul>
    </div>

    <!-- Networking -->
    <div class="section">
        <h2>Networking</h2>
        <textarea id="networkInput" placeholder="Add a new collaboration opportunity"></textarea>
        <button onclick="addNetworkPost()">Post Opportunity</button>
        <h3>Collaboration Opportunities</h3>
        <ul id="networkList">
            <li><strong>Feb 21, 2025:</strong> <em>Local Contacts:</em> NUST (Prof. Dr. Aamer Iqbal Bhatti, aamer@nust.edu.pk) for EV seminars; "Ahmed Autos" (F-10, +92-300-1234567) for shadowing; EVolve Tech (info@evolvetech.pk) for training.</li>
            <li><strong>Feb 21, 2025:</strong> <em>Online Platforms:</em> X (@EVTechGuru, #EVMaintenance); LinkedIn ("Electric Vehicle Network", Engr. Fahad Malik); PakWheels ("EV_Pioneer" for DIY guide).</li>
            <li><strong>Feb 21, 2025:</strong> <em>Prospects:</em> Toyota Capital Motors (F-7, +92-51-111-111-222) for diagnostics; PIEAS (registrar@pieas.edu.pk) for retrofits; Rozee.pk for freelance gigs.</li>
        </ul>
    </div>

    <!-- News Updates -->
    <div class="section">
        <h2>News Updates</h2>
        <textarea id="newsInput" placeholder="Add a new EV news update"></textarea>
        <button onclick="addNewsPost()">Post News</button>
        <ul id="newsList">
            <li><strong>Feb 21, 2025:</strong> Pakistan’s NEVP pilots charging stations in Islamabad’s F-7 and G-9, increasing maintenance demand.</li>
            <li><strong>Feb 21, 2025:</strong> MG Pakistan launches affordable EV in Lahore; Islamabad service centers planned for mid-2025.</li>
            <li><strong>Feb 21, 2025:</strong> Trump’s U.S. EV mandate rollback may lower parts costs for Pakistani shops.</li>
            <li><strong>Feb 21, 2025:</strong> EVolve Tech starts EV mechanic training with NUST, March 2025.</li>
        </ul>
    </div>

    <script>
        const totalChecklistHours = 149;
        const skillChecklists = {
            'ev-fundamentals': [0, 1, 10],
            'electrical': [2, 3],
            'battery': [4, 11],
            'motor': [8, 14],
            'maintenance': [5, 12, 13],
            'charging': [6, 15],
            'safety': [9, 16],
            'renewable': [7]
        };

        // Load Saved Progress
        window.onload = function() {
            const savedProgress = JSON.parse(localStorage.getItem('checklistProgress')) || [];
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            checkboxes.forEach((cb, index) => {
                cb.checked = savedProgress[index] || false;
            });
            updateProgress();

            // Load Saved News and Networking
            const savedNews = JSON.parse(localStorage.getItem('newsPosts')) || [];
            const savedNetwork = JSON.parse(localStorage.getItem('networkPosts')) || [];
            savedNews.forEach(post => addNewsToList(post.text, post.date));
            savedNetwork.forEach(post => addNetworkToList(post.text, post.date));
        };

        // Progress and Badge Update
        function updateProgress() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            let completedHours = 0;
            const progressState = [];
            checkboxes.forEach(cb => {
                if (cb.checked) {
                    completedHours += parseFloat(cb.getAttribute('data-weight'));
                }
                progressState.push(cb.checked);
            });
            const percent = Math.round((completedHours / totalChecklistHours) * 100);
            document.getElementById('progressPercent').innerText = `${percent}% (${completedHours}/${totalChecklistHours} hours)`;
            document.querySelector('.progress').style.width = `${percent}%`;
            localStorage.setItem('checklistProgress', JSON.stringify(progressState));

            // Update Badges
            Object.keys(skillChecklists).forEach(skill => {
                const indices = skillChecklists[skill];
                const allChecked = indices.every(i => checkboxes[i].checked);
                const badge = document.getElementById(`badge-${skill}`);
                if (allChecked) {
                    badge.classList.remove('locked');
                    badge.classList.add('unlocked');
                } else {
                    badge.classList.add('locked');
                    badge.classList.remove('unlocked');
                }
            });
        }

        // Task Management
        function addTask() {
            const taskInput = document.getElementById('taskInput').value;
            const taskDate = document.getElementById('taskDate').value;
            if (!taskInput || !taskDate) return;
            const li = document.createElement('li');
            li.innerHTML = `<input type="checkbox"> ${taskInput} (Due: ${taskDate})`;
            document.getElementById('taskList').appendChild(li);
            scheduleNotification(taskInput, new Date(taskDate).getTime());
            document.getElementById('taskInput').value = '';
            document.getElementById('taskDate').value = '';
        }

        // News Updates
        function addNewsPost() {
            const newsInput = document.getElementById('newsInput').value;
            if (!newsInput) return;
            const date = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
            addNewsToList(newsInput, date);
            const savedNews = JSON.parse(localStorage.getItem('newsPosts')) || [];
            savedNews.push({ text: newsInput, date: date });
            localStorage.setItem('newsPosts', JSON.stringify(savedNews));
            document.getElementById('newsInput').value = '';
        }

        function addNewsToList(text, date) {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${date}:</strong> ${text}`;
            document.getElementById('newsList').prepend(li);
        }

        // Networking Updates
        function addNetworkPost() {
            const networkInput = document.getElementById('networkInput').value;
            if (!networkInput) return;
            const date = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
            addNetworkToList(networkInput, date);
            const savedNetwork = JSON.parse(localStorage.getItem('networkPosts')) || [];
            savedNetwork.push({ text: networkInput, date: date });
            localStorage.setItem('networkPosts', JSON.stringify(savedNetwork));
            document.getElementById('networkInput').value = '';
        }

        function addNetworkToList(text, date) {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${date}:</strong> ${text}`;
            document.getElementById('networkList').prepend(li);
        }

        // Real-Time Notifications
        function scheduleNotification(task, dueTime) {
            if (Notification.permission === "granted") {
                setTimeout(() => {
                    new Notification(`Task Due: ${task}`);
                }, dueTime - Date.now());
            } else if (Notification.permission !== "denied") {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") scheduleNotification(task, dueTime);
                });
            }
        }
    </script>
</body>
    </html>
